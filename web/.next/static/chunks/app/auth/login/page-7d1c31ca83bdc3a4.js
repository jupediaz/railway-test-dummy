(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[716],{8584:function(e,t,r){Promise.resolve().then(r.bind(r,175)),Promise.resolve().then(r.bind(r,9167))},175:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return C}});var a=r(7437),s=r(2265),l=r(4033),n=r(1396),o=r.n(n),i=r(7122),d=r(4949),c=r(6061),u=r(7042),m=r(4769);function f(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,m.m6)((0,u.W)(t))}let x=(0,c.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),p=s.forwardRef((e,t)=>{let{className:r,variant:s,size:l,asChild:n=!1,...o}=e,i=n?d.g7:"button";return(0,a.jsx)(i,{className:f(x({variant:s,size:l,className:r})),ref:t,...o})});p.displayName="Button";let g=s.forwardRef((e,t)=>{let{className:r,type:s,...l}=e;return(0,a.jsx)("input",{type:s,className:f("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...l})});g.displayName="Input";let h=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("label",{ref:t,className:f("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r),...s})});h.displayName="Label";let b=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:f("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});b.displayName="Card";let v=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:f("flex flex-col space-y-1.5 p-6",r),...s})});v.displayName="CardHeader";let y=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:f("text-2xl font-semibold leading-none tracking-tight",r),...s})});y.displayName="CardTitle";let N=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:f("text-sm text-muted-foreground",r),...s})});N.displayName="CardDescription";let j=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:f("p-6 pt-0",r),...s})});j.displayName="CardContent";let w=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:f("flex items-center p-6 pt-0",r),...s})});w.displayName="CardFooter";var S=r(1424);function C(){let[e,t]=(0,s.useState)(""),[r,n]=(0,s.useState)(""),[d,c]=(0,s.useState)(!1),{signIn:u}=(0,i.a)(),m=(0,l.useRouter)(),f=async t=>{if(t.preventDefault(),e&&r){c(!0);try{await u(e,r),S.Am.success("Bienvenido de vuelta"),m.push("/portal")}catch(e){S.Am.error(e.message||"Error al iniciar sesi\xf3n")}finally{c(!1)}}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Portal del Paciente"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Accede a tu expediente m\xe9dico y seguimiento fotogr\xe1fico"})]}),(0,a.jsxs)(b,{children:[(0,a.jsxs)(v,{children:[(0,a.jsx)(y,{children:"Iniciar Sesi\xf3n"}),(0,a.jsx)(N,{children:"Ingresa tus credenciales para acceder al portal"})]}),(0,a.jsxs)(j,{className:"space-y-4",children:[(0,a.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{htmlFor:"email",children:"Email"}),(0,a.jsx)(g,{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"tu@email.com",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h,{htmlFor:"password",children:"Contrase\xf1a"}),(0,a.jsx)(g,{id:"password",type:"password",value:r,onChange:e=>n(e.target.value),placeholder:"••••••••",required:!0})]}),(0,a.jsx)(p,{type:"submit",className:"w-full",disabled:d,children:d?"Iniciando sesi\xf3n...":"Iniciar Sesi\xf3n"})]}),(0,a.jsx)("div",{className:"text-center mt-6",children:(0,a.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200 mb-4",children:[(0,a.jsx)("p",{className:"text-sm text-blue-700 font-medium",children:"Credenciales Demo:"}),(0,a.jsx)("p",{className:"text-sm text-blue-600",children:"Email: paciente@demo.com"}),(0,a.jsx)("p",{className:"text-sm text-blue-600",children:"Contrase\xf1a: demo123"})]})}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["\xbfNo tienes cuenta?"," ",(0,a.jsx)(o(),{href:"/auth/signup",className:"text-blue-600 hover:text-blue-500",children:"Reg\xedstrate aqu\xed"})]})})]})]})]})})}},7122:function(e,t,r){"use strict";r.d(t,{H:function(){return n},a:function(){return o}});var a=r(7437),s=r(2265);let l=(0,s.createContext)(null);function n(e){let{children:t}=e,[r,n]=(0,s.useState)(null),[o,i]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(()=>{try{let e=localStorage.getItem("auth-user"),t=localStorage.getItem("auth-expiry");if(e&&t){let r=new Date(t),a=new Date;if(a<r){let t=JSON.parse(e);n(t),console.log("Sesi\xf3n restaurada:",t.email)}else localStorage.removeItem("auth-user"),localStorage.removeItem("auth-expiry"),console.log("Sesi\xf3n expirada, limpiando storage")}}catch(e){console.error("Error restaurando sesi\xf3n:",e),localStorage.removeItem("auth-user"),localStorage.removeItem("auth-expiry")}finally{i(!1)}})()},[]);let d=async(e,t)=>new Promise((r,a)=>{setTimeout(()=>{console.log("Intentando login con:",{email:'"'.concat(e,'"'),password:'"'.concat(t,'"')});let s=e.trim(),l=t.trim();if("paciente@demo.com"===s&&"demo123"===l){console.log("Login exitoso!");let e={id:"demo-patient-1",email:"paciente@demo.com",role:"patient"},t=new Date;t.setDate(t.getDate()+7),localStorage.setItem("auth-user",JSON.stringify(e)),localStorage.setItem("auth-expiry",t.toISOString()),n(e),r()}else console.log("Credenciales incorrectas:",{emailMatch:"paciente@demo.com"===s,passwordMatch:"demo123"===l,expected:{email:"paciente@demo.com",password:"demo123"},received:{email:s,password:l}}),a(Error("Credenciales incorrectas"))},100)}),c=async()=>{localStorage.removeItem("auth-user"),localStorage.removeItem("auth-expiry"),n(null),console.log("Sesi\xf3n cerrada y storage limpiado")};return(0,a.jsx)(l.Provider,{value:{user:r,loading:o,signIn:d,signOut:c},children:t})}let o=()=>{let e=(0,s.useContext)(l);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}}},function(e){e.O(0,[569,424,727,971,472,744],function(){return e(e.s=8584)}),_N_E=e.O()}]);